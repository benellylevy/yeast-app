

# 🧬 Yeast Control Panel – Web-Based Experiment Manager

מערכת שליטה ובקרה בזמן אמת לניסוי שמבוסס על אקלימציה, מדידת טמפרטורה, אנליזה של תמונות, ופידבק ביולוגי.

---

## 📦 מה כוללת המערכת?

- ממשק אינטרנטי (Flask + HTML/JS) לניהול הניסוי
- גרף חי: GFP + טמפרטורה (שני צירים)
- טבלת לוגים (Feedback)
- שליטה על סקריפטים בלחיצת כפתור
- רמזורים סטטיים (נורות ירוקות לסקריפטים פעילים)
- אזור פלט חי לכל פעולה
- תיעוד נתיבים נוכחיים + אפשרות עדכון בזמן אמת

---

## 🧭 איך מפעילים ניסוי חדש?

### 1. **הכן את סביבת העבודה**
- פתח את VSCode או הטרמינל
- ודא שאתה נמצא בתוך הסביבה `cellpose` של Anaconda

```bash
conda activate cellpose
cd yeast-app/
```

---

### 2. **הפעל את הממשק**

```bash
python app.py
```

- כנס לדפדפן:
```
http://localhost:5000
```

---

### 3. **בצע את הצעדים לפי הסדר הבא**

| שלב                     | פעולה שאתה עושה בממשק |
|--------------------------|------------------------|
| 📁 יצירת תיקיית ניסוי    | לחץ על `Make Dir`      |
| 📡 התחלת מדידת טמפרטורה | לחץ על `mqtt → Patch` |
| 🕐 המתן לאקלימציה         | 24 שעות או כפי שתבחר   |
| 🧪 עדכון תיקיית תמונות   | פתח את "Show/Update analyse path" ועדכן |
| 🔍 הרץ `analyse`         | לחץ על `analyse → Patch` |
| 🔁 הפעלת פידבק           | לחץ על `Feedback ON/OFF` |

---

## 📂 קבצי תצורה

### config/session_config.json  
קובץ גלובלי שמתעדכן אוטומטית בכל `Make Dir`:

```json
{
  "paths": {
    "agg_path": "B:/my_experiment/WELLS_20250731",
    "mqtt_path": "B:/my_experiment/WELLS_20250731/TEMP"
  },
  "parameters": {
    "well_numbers": [1, 2, ..., 36]
  }
}
```

### config.json  
בתוך כל ניסוי, כולל את כל הנתיבים הרלוונטיים לקבצי פלט.  
משמש את mqtt/analyse.

---

## 🔥 הערות חשובות

- את `Make Dir` מריצים **רק פעם אחת** בתחילת הניסוי
- `mqtt.py` ו־`analyse.py` רצים עם נתיב שנשלף מתוך `config.json` בהתאם לניסוי הנוכחי
- טבלת הלוג מתמלאת אוטומטית **רק כשנוצר הקובץ `Feedback_log.csv`**
- הנתיבים לבארות (`well_numbers`) מוגדרים כברירת מחדל ל־1 עד 36, אך ניתן לשנות ידנית ב־config

---

## 👤 קרדיט

פותח ע"י [Ben Ellevy]  
לצורך ניסויים ביולוגיים מתקדמים בזמן אמת.

---

📍 לעזרה, שאלה או תמיכה – פנה אליי ישירות או השאר issue.